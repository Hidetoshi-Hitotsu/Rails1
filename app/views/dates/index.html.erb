
<div class = "container">
    <div class ="pageTitle">
        <h2 class = "pageTitleText">予定一覧</h2>


        <div class = "pageTitleLink">
        <%= link_to new_date_path , method: :get, class: "btn btn-primary" do %>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
            </svg>  新規追加
        <% end %>
        </div>
        <% if false %>
        <%= button_to "新規追加", {controller: "dates", action: "new"}, {method: :get, class: "btn btn-primary" } %>
        <% end %>
    </div>

    <% if flash[:notice] %>
        <p class = "notice"><%= flash[:notice] %> </p>
    <% end %>

    <table class= "table table-bordered">
        <thead class = "table-light">
            <tr>
                <th>ID</th>
                <th>タイトル</th>
                <th>開始日</th>
                <th>終了日</th>
                <th>終日</th>
                <th>更新日時</th>
                <th>詳細</th>
                <th>編集</th>
                <th>削除</th>
            </tr>
        </thead>
        <tbody>
            <% @schedules.each do |schedule| %>
            <tr>
                <td><%= schedule.id %></td>
                <td><%= schedule.title %></td>
                <td><%= schedule.start.strftime("%Y/%m/%d")%></td>
                <% if false %>
                <td><%= schedule.start.to_s(:date_jp) %></td>
                <td><%= schedule.end_date.to_s(:date_jp) %></td>
                <% end %>
                <td><%= schedule.end_date.strftime("%Y/%m/%d") %></td>
                <td><%= schedule.check %></td>
                <td><%= schedule.updated_at.strftime("%Y/%m/%d %H:%M") %></td>
                <td><%= link_to "詳細", date_path(schedule) %></td>
                <td><%= link_to "編集", edit_date_path(schedule) %></td>
                <td><%= link_to "削除", date_path(schedule) , method: :delete , data:{ confirm:"本当に削除しますか？"} %></td> 
            </tr>
            <% end %>
        </tbody>
    </table>
    <div class = "pageFooter bg-white">
        <div class = "FooterSum">
            <span>
                予定の合計<%= Schedule.count %>件
            </span>
        </div>
        <div class = "FooterToday">
            <span>
                本日の日付<%= Date.current.strftime('%Y/%m/%d') %>
            </span>
        </div>
    </div>
</div>
